<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Javascript Form Validation</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<section class="main-area">
		<form action="" id="form" class="form">
			<h2>Register New User</h2>
			<div class="input-control">
				<label for="first-name">First Name</label>
				<input type="text" class="input-field" id="first-name" placeholder="Enter first name" msg="First name is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="last-name">Last Name</label>
				<input type="text" class="input-field" id="last-name" placeholder="Enter last name" msg="Last Name is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="email">Email</label>
				<input type="text" class="input-field" id="email" msg="Email is required." placeholder="Enter Email">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="city">City</label>
				<input type="text" class="input-field" id="city" placeholder="City" msg="City is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="country">Country</label>
				<input type="text" class="input-field" id="country" placeholder="Country" msg="Country is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="password">Password</label>
				<input type="password" class="input-field" id="password" placeholder="Password" msg="Password is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<div class="input-control">
				<label for="confirm-password">Confirm Password</label>
				<input type="password" class="input-field" id="confirm-password" placeholder="Confirm Password" msg="Confirm Password is required">
				<i class="fa-solid fa-circle-exclamation failure-icon"></i>
                <i class="fa-regular fa-circle-check success-icon"></i>
				<small class="error">enter your name</small>
			</div>
			<button class="submit-button">Register User</button>
		</form>
	</section>
	<script type="text/javascript">
		const formElement=document.getElementById('form');
		const firstName=document.getElementById('first-name');
		const lastName=document.getElementById('last-name');
		const email=document.getElementById('email');
		const city=document.getElementById('city');
		const country=document.getElementById('country');
		const password=document.getElementById('password');
		const confirmPass=document.getElementById('confirm-password');

		formElement.addEventListener('submit',function(e){
			e.preventDefault();
			isRequired(
				[firstName,lastName,email,city,country,password,confirmPass]
			);
		});
		function isRequired(inputArr){
			inputArr.forEach(function(inputField){
				inputField.value===''?showErrorMessage(inputField,inputField.getAttribute("msg")):showSuccessMessage(inputField);
			});
		}
		function isValidateEmail(email){
			const regex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
		  	return email.match(regex);
		};
		function showErrorMessage(inputName,message){
			var elementName=inputName.parentElement;
			elementName.className='input-control error-msg show-msg';
			elementName.querySelector('small').innerText=message;
			elementName.getElementsByClassName('failure-icon')[0].style.opacity = '1';
			elementName.getElementsByClassName('success-icon')[0].style.opacity = '0';
		}
		function showSuccessMessage(inputName){
			var elementName=inputName.parentElement;
			elementName.className='input-control success-msg show-msg';
			elementName.querySelector('small').innerText='';
			elementName.getElementsByClassName('success-icon')[0].style.opacity = '1';
			elementName.getElementsByClassName('failure-icon')[0].style.opacity = '0';
		}
	</script>
</body>
</html>